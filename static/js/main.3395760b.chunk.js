(this["webpackJsonpboard-game-randomizer-2"]=this["webpackJsonpboard-game-randomizer-2"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(4),c=n.n(i),r=(n(9),n(2)),o=(n(10),n(11),n(0)),l=function(e){var t=e.games;return t.errors?Object(o.jsx)("section",{className:"listContainer",children:Object(o.jsx)("p",{children:t.errors.error.message["#text"]})}):null==t.items?Object(o.jsx)("section",{className:"listContainer",children:Object(o.jsx)("p",{children:"Nothing to show"})}):null==t.items.item?Object(o.jsx)("section",{className:"listContainer",children:Object(o.jsx)("p",{children:"This user has no games in his collection"})}):Object(o.jsxs)("section",{className:"listContainer",children:[Object(o.jsx)("h2",{className:"listHeader",children:"List of Games"}),Object(o.jsx)("ul",{className:"gameList",title:"List of Games",children:t.items.item.map((function(e){return Object(o.jsx)("li",{className:"gameListItem",children:e.name["#text"]},e["@attributes"].collid)}))})]})},d=(n(13),function(e){var t=e.handleInput,n=e.handleSubmit,s=Object(a.useState)(""),i=Object(r.a)(s,2),c=i[0],l=i[1];return Object(a.useEffect)((function(){t(c)}),[c]),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(c)},children:[Object(o.jsx)("label",{htmlFor:"usernameinput",children:"BGG Username: "}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{id:"usernameinput",className:"usernameInput",value:c,onChange:function(e){l(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"fetchButton",type:"submit",children:"Fetch Collection"})]})});var m=function e(t){var n,a,s,i,c,r,o={};if(1===t.nodeType){if(t.attributes.length>0)for(o["@attributes"]={},a=0;a<t.attributes.length;a+=1)s=t.attributes.item(a),o["@attributes"][s.nodeName]=s.nodeValue}else 3===t.nodeType&&(o=t.nodeValue);if(t.hasChildNodes())for(n=0;n<t.childNodes.length;n+=1)void 0===o[c=(i=t.childNodes.item(n)).nodeName]?o[c]=e(i):(void 0===o[c].push&&(r=o[c],o[c]=[],o[c].push(r)),o[c].push(e(i)));return o},u=(n(14),function(e){var t=e.type,n=e.handleClick,a=e.text,s=e.disabled,i=void 0!==s&&s,c=e.hidden;return void 0!==c&&c?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)("button",{disabled:i,className:t,onClick:n,children:a})}),h=(n(15),function(e){var t=e.games,n=e.randomGame;return-1===n?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("div",{className:"pickedGame",children:["How about a game of ",Object(o.jsx)("br",{}),t.items.item[n].name["#text"]]})}),j=(n(16),function(e){var t=e.listItems,n=e.title;return Object(o.jsxs)("div",{className:"list-component-container",children:[Object(o.jsx)("h3",{children:n}),Object(o.jsx)("ul",{className:"list-component-list",children:t.map((function(e){return Object(o.jsx)("li",{className:"list-component-item",children:e},e)}))})]})});var b=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)("No collections loaded."),c=Object(r.a)(i,2),b=c[0],f=c[1],O=Object(a.useState)(""),p=Object(r.a)(O,2),x=p[0],g=p[1],v=Object(a.useState)(-1),N=Object(r.a)(v,2),w=N[0],y=N[1],k=Object(a.useState)([""]),G=Object(r.a)(k,2),S=G[0],C=G[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)("h1",{children:"Board Game Randomizer 2"})}),Object(o.jsx)("div",{children:b}),Object(o.jsx)(d,{handleInput:function(e){g(e)},handleSubmit:function(){y(-1),fetch("https://frozen-dawn-34650.herokuapp.com/https://www.boardgamegeek.com/xmlapi2/collection?username=".concat(x,"&own=1")).then((function(e){if(!e.ok)throw f("Board Game Geek api or the Internet had a break. You can always try again."),new Error("Board Game Geek api or the Internet had a break. You can always try again.");if(202===e.status)throw f("Board Game Geek API is processing your request. Try again in a second."),new Error("Board Game Geek API is processing your request. Try again in a second.");if(200===e.status){if(S.includes(x))throw f("This users collection has already been fetched."),new Error("This users collection has already been fetched.");f("Collection fethced.");var t=[x];return C(S.concat(t)),e.text()}throw f("Something weird happened. Statuscode: ".concat(e.status)),new Error("Something weird happened. Statuscode: ".concat(e.status))})).then((function(e){var t=(new DOMParser).parseFromString(e,"text/xml"),a=m(t);if(n.items)if(null==n.items.item)s(a);else if(a.items&&a.items.item){var i=JSON.parse(JSON.stringify(n));a.items.item.forEach((function(e){return i.items.item.push(e)})),s(i)}else f("Invalid username or the user didn't have any games in his/her collection.");else s(a)})).catch((function(e){console.error(e)}))}}),Object(o.jsx)(u,{type:"pickRandom",handleClick:function(){var e=Math.floor(Math.random()*Object.keys(n.items.item).length);y(e),console.log("random: ",Math.floor(Math.random()*Object.keys(n.items.item).length))},text:"Pick a Random Game",disabled:!n.items}),Object(o.jsx)(h,{games:n,randomGame:w}),Object(o.jsx)("br",{}),Object(o.jsx)(u,{type:"clear",handleClick:function(){s({}),y(-1)},text:"Clear Collection",disabled:!n.items}),Object(o.jsx)(j,{listItems:S,title:"Fetched Users"}),Object(o.jsx)(l,{games:n})]})};c.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(b,{})}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.3395760b.chunk.js.map