(this["webpackJsonpboard-game-randomizer-2"]=this["webpackJsonpboard-game-randomizer-2"]||[]).push([[0],[,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(4),i=a.n(r),c=(a(9),a(2)),o=(a(10),a(11),a(0)),d=function(e){var t=e.games;return t.errors?Object(o.jsx)("div",{children:t.errors.error.message["#text"]}):null==t.items?null:null==t.items.item?Object(o.jsx)("div",{children:"This user has no games in his collection"}):Object(o.jsxs)("section",{className:"listContainer",children:[Object(o.jsx)("h2",{className:"listHeader",children:"List of Games"}),Object(o.jsx)("ul",{className:"gameList",title:"List of Games",children:t.items.item.map((function(e){return Object(o.jsx)("li",{className:"gameListItem",children:e.name["#text"]},e["@attributes"].collid)}))})]})},l=(a(13),function(e){var t=e.handleInput,a=e.handleSubmit,s=Object(n.useState)(""),r=Object(c.a)(s,2),i=r[0],d=r[1];return Object(n.useEffect)((function(){t(i)}),[i]),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(i)},children:[Object(o.jsx)("label",{htmlFor:"usernameinput",children:"BGG Username: "}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{id:"usernameinput",className:"usernameInput",value:i,onChange:function(e){d(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"fetchButton",type:"submit",children:"Fetch Collection"})]})});var u=function e(t){var a,n,s,r,i,c,o={};if(1===t.nodeType){if(t.attributes.length>0)for(o["@attributes"]={},n=0;n<t.attributes.length;n+=1)s=t.attributes.item(n),o["@attributes"][s.nodeName]=s.nodeValue}else 3===t.nodeType&&(o=t.nodeValue);if(t.hasChildNodes())for(a=0;a<t.childNodes.length;a+=1)void 0===o[i=(r=t.childNodes.item(a)).nodeName]?o[i]=e(r):(void 0===o[i].push&&(c=o[i],o[i]=[],o[i].push(c)),o[i].push(e(r)));return o},m=(a(14),function(e){var t=e.type,a=e.handleClick,n=e.text,s=e.disabled,r=void 0!==s&&s,i=e.hidden;return void 0!==i&&i?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)("button",{disabled:r,className:t,onClick:a,children:n})}),h=(a(15),function(e){var t=e.games,a=e.randomGame;return-1===a?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("div",{className:"pickedGame",children:["How about a game of ",Object(o.jsx)("br",{}),t.items.item[a].name["#text"]]})});var b=function(){var e=Object(n.useState)({}),t=Object(c.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("No collections loaded."),i=Object(c.a)(r,2),b=i[0],j=i[1],f=Object(n.useState)(""),O=Object(c.a)(f,2),p=O[0],x=O[1],g=Object(n.useState)(-1),v=Object(c.a)(g,2),k=v[0],w=v[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)("h1",{children:"Board Game Randomizer 2"})}),Object(o.jsx)("div",{children:b}),Object(o.jsx)(l,{handleInput:function(e){x(e)},handleSubmit:function(){w(-1),fetch("https://frozen-dawn-34650.herokuapp.com/https://www.boardgamegeek.com/xmlapi2/collection?username=".concat(p,"&own=1")).then((function(e){if(!e.ok)throw j("Board Game Geek api or the Internet had a break. You can always try again."),new Error("Board Game Geek api or the Internet had a break. You can always try again.");if(202===e.status)throw j("Board Game Geek API is processing your request. Try again in a second."),new Error("Board Game Geek API is processing your request. Try again in a second.");if(200===e.status)return j("Collection fethced."),e.text();throw j("Something weird happened. Statuscode: ".concat(e.status)),new Error("Something weird happened. Statuscode: ".concat(e.status))})).then((function(e){var t=(new DOMParser).parseFromString(e,"text/xml"),a=u(t);s(a)})).catch((function(e){console.error(e)}))}}),Object(o.jsx)(m,{type:"pickRandom",handleClick:function(){var e=Math.floor(Math.random()*Object.keys(a.items.item).length);w(e),console.log("random: ",Math.floor(Math.random()*Object.keys(a.items.item).length))},text:"Pick a Random Game",disabled:!a.items}),Object(o.jsx)(h,{games:a,randomGame:k}),Object(o.jsx)("br",{}),Object(o.jsx)(m,{type:"clear",handleClick:function(){s({}),w(-1)},text:"Clear Collection",disabled:!a.items}),Object(o.jsx)(d,{games:a})]})};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(b,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.4c78bef6.chunk.js.map